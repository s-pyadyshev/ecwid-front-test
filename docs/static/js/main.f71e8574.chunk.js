(this["webpackJsonpecwid-front-test"]=this["webpackJsonpecwid-front-test"]||[]).push([[0],[,,,,,,,,function(e,t,n){e.exports=n(17)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(7),i=n.n(o),c=(n(13),n(4)),l=(n(14),function(e){var t=e.url,n=e.width,o=e.height,i=e.imageWidth,l=Object(a.useState)(!1),s=Object(c.a)(l,2),u=s[0],p=s[1];return Object(a.useEffect)((function(){p(!0)}),[]),r.a.createElement(r.a.Fragment,null,u?r.a.createElement("img",{src:t,width:n,height:o,alt:".some alt text",style:{width:i}}):r.a.createElement("div",{style:{width:i}},"...loading"))}),s=function(e){var t,n=e.storeImages,o=e.dispatch,i=Object(a.useState)(""),s=Object(c.a)(i,2),u=s[0],p=s[1],f=Object(a.useRef)(),d=[],E=function(){var e=JSON.parse(t.result).galleryImages;d=e};return r.a.createElement("div",{className:"gallery"},r.a.createElement("form",null,r.a.createElement("div",null,r.a.createElement("input",{type:"text",onChange:function(e){p(e.target.value)}}),r.a.createElement("button",{onClick:function(e){e.preventDefault(),o({type:"ADD_FILE_TO_LIST",files:u})}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443")),r.a.createElement("div",null,r.a.createElement("input",{type:"file",id:"upload",ref:f,onChange:function(e){return n=e.target.files[0],(t=new FileReader).onloadend=E,void t.readAsText(n);var n}}),r.a.createElement("button",{onClick:function(e){e.preventDefault(),o({type:"ADD_JSON_TO_LIST",files:d})}},"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"))),r.a.createElement("ul",{className:"gallery__list"},n.map((function(e,t){return r.a.createElement("li",{key:t,className:"gallery__item"},r.a.createElement(l,{url:e.url,width:e.width,height:e.height}),r.a.createElement("button",{className:"gallery__item-remove",onClick:function(){o({type:"REMOVE_IMAGE",index:t})}},"remove"))}))))},u=n(2),p=(n(15),function(e){var t=e.data,n=e.dispatch,a=e.children;return r.a.createElement("div",{className:t.inDropZone?"drag-drop-zone inside-drag-area":"drag-drop-zone",onDrop:function(e){return function(e){e.preventDefault(),e.stopPropagation();var t=Object(u.a)(e.dataTransfer.files)[0],a=new FileReader;a.readAsDataURL(t),a.onload=function(){var e=a.result;n({type:"ADD_FILE_TO_LIST",files:e})},a.onabort=function(){alert("Reading aborted")},a.onerror=function(){alert("Reading error")},e.dataTransfer.clearData(),n({type:"SET_DROP_DEPTH",dropDepth:0}),n({type:"SET_IN_DROP_ZONE",inDropZone:!1})}(e)},onDragOver:function(e){return function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="copy",n({type:"SET_IN_DROP_ZONE",inDropZone:!0})}(e)},onDragEnter:function(e){return function(e){e.preventDefault(),e.stopPropagation(),n({type:"SET_DROP_DEPTH",dropDepth:t.dropDepth+1})}(e)},onDragLeave:function(e){return function(e){e.preventDefault(),e.stopPropagation(),n({type:"SET_DROP_DEPTH",dropDepth:t.dropDepth-1}),t.dropDepth>0||n({type:"SET_IN_DROP_ZONE",inDropZone:!1})}(e)}},a)}),f=n(1),d=function(e,t){switch(t.type){case"SET_DROP_DEPTH":return Object(f.a)(Object(f.a)({},e),{},{dropDepth:t.dropDepth});case"SET_IN_DROP_ZONE":return Object(f.a)(Object(f.a)({},e),{},{inDropZone:t.inDropZone});case"ADD_FILE_TO_LIST":return Object(f.a)(Object(f.a)({},e),{},{fileList:[].concat(Object(u.a)(e.fileList),[{url:t.files}])});case"ADD_JSON_TO_LIST":return Object(f.a)(Object(f.a)({},e),{},{fileList:[].concat(Object(u.a)(e.fileList),Object(u.a)(t.files))});case"REMOVE_IMAGE":return Object(f.a)(Object(f.a)({},e),{},{fileList:Object(u.a)(e.fileList.filter((function(e,n){return n!==t.index})))});default:return e}};n(16);var E=function(){var e=r.a.useReducer(d,{dropDepth:0,inDropZone:!1,fileList:[]}),t=Object(c.a)(e,2),n=t[0],a=t[1];return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"container"},r.a.createElement(p,{data:n,dispatch:a},r.a.createElement(s,{storeImages:n.fileList,dispatch:a}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[8,1,2]]]);
//# sourceMappingURL=main.f71e8574.chunk.js.map